@page "/"
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.Data.Sqlite
@using System.Threading.Tasks

@rendermode InteractiveServer

<PageTitle>Auth</PageTitle>

<MudPaper Class="mt-5 p-5">

    <MudText Typo="Typo.h5">
        @(isSignUp ? "Sign Up" : "Sign In")
    </MudText>

    <MudForm>

        @if (isSignUp)
        {
            <MudTextField Label="Username" @bind-Value="username" />
        }

        <MudTextField Label="Email" @bind-Value="email" />

        <MudTextField Label="Password" InputType="InputType.Password" @bind-Value="password" />

        @if (isSignUp)
        {
            <MudTextField Label="Confirm Password" InputType="InputType.Password" @bind-Value="confirmPassword" />
        }

        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="HandleAuth" Class="mt-3">
            @(isSignUp ? "Create Account" : "Login")
        </MudButton>

        <MudButton Variant="Variant.Text" OnClick="ToggleForm" Class="mt-2">
            @(isSignUp ? "Already have an account?" : "Create new account")
        </MudButton>

    </MudForm>

</MudPaper>
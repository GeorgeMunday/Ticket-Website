@page "/addticket"
@rendermode InteractiveServer

<PageTitle>Add Ticket</PageTitle>

@if (authState)
{
    @if (AuthService.RoomId == 0)
    {
        <MudPaper>
            <MudText class="p-4">no room selected</MudText>
        </MudPaper>
    }
    else
    {
        <MudPaper Class="p-4" Elevation="4">
            <MudForm>
                <!-- Ticket Name -->
                <MudTextField @bind-Value="TicketName" T="string" Label="Ticket Name" Required="false" />

                <!-- Description -->
                <MudTextField @bind-Value="Description" T="string" Label="Description" Required="false" />

                <!-- Priority -->
                <MudNumericField @bind-Value="Priority" T="int" Label="Priority" Variant="Variant.Text" Min="0" Max="5" />

                <!-- Estimated Time -->
                <MudNumericField @bind-Value="EstimatedTime" T="int" Label="Estimated Time (Hr)" Variant="Variant.Text" Min="0"
                    Max="100" />

                <!-- Generated Ticket ID -->
                <MudNumericField @bind-Value="TicketId" T="string" Label="Ticket ID" Disabled="true" Variant="Variant.Outlined"
                    HideSpinButtons="true" />

                <!-- Submit Button -->
                <MudButton OnClick="SubmitTicket" Variant="Variant.Filled" Color="Color.Primary">
                    Submit
                </MudButton>
            </MudForm>
        </MudPaper>
    }
}
else
{
    <MudPaper Class="pa-4">
        <MudText Typo="Typo.h5">You are not logged in</MudText>
        <MudText>Please waitâ€¦ navigating</MudText>
        <MudProgressLinear Indeterminate="true" Class="mt-2" />
    </MudPaper>
}